{% extends "students/base.html" %} {% block students %}
<div class="container-fluid d-flex flex-column py-2">
	<div class="d-flex justify-content-between align-items-center">
		<h1 class="mb-4">{{language.name}}</h1>
		<h5 id="timer">00:00:00</h5>
		<a href="{% url 'test' 'python' %}" class="btn btn-primary">Submit</a>
	</div>
	<div class="d-flex w-100">
		<div class="w-50 bg-white p-3">
			<h2 class="mb-4">Question #1</h2>
			<h5 class="mb-3">
				Write a simple python program to greet a user using a print
				statement without using functions.
			</h5>
			<p class="lead mb-3">
				Vivamus sagittis lacus vel augue laoreet rutrum faucibus dolor
				auctor. Duis mollis, est non commodo luctus.Duis mollis, est non
				commodo luctus. Vivamus sagittis lacus vel augue laoreet rutrum
				faucibus dolor auctor. Duis mollis, est non commodo luctus.Duis
				mollis, est non commodo luctus. Vivamus sagittis lacus vel augue
				laoreet rutrum faucibus dolor auctor. Duis mollis, est non
				commodo luctus.Duis mollis, est non commodo luctus.
			</p>
			<h6 class="mb-3">Estimated Time: 3 mins</h6>

			<h5 class="mb-3">Score Table</h5>
			<h6 class="mb-3">Code Test: 40%</h6>
			<h6 class="mb-3">Variable Declaration Test: 30%</h6>
			<h6 class="mb-3">Time Test: 20%</h6>
			<h6 class="mb-3">Another Test: 10%</h6>
		</div>
		<textarea id="editor"></textarea>
	</div>
</div>

<script>
	// Initialize CodeMirror
	var editor = CodeMirror.fromTextArea(document.getElementById("editor"), {
		mode: "python",
		lineNumbers: true,
		indentUnit: 4,
		theme: "default", // You can change the theme here
	});

	function formatTime(timeInSeconds) {
		const hours = Math.floor(timeInSeconds / 3600);
		const minutes = Math.floor((timeInSeconds % 3600) / 60);
		const seconds = timeInSeconds % 60;

		const formattedHours = hours.toString().padStart(2, "0");
		const formattedMinutes = minutes.toString().padStart(2, "0");
		const formattedSeconds = seconds.toString().padStart(2, "0");

		return `${formattedHours}:${formattedMinutes}:${formattedSeconds}`;
	}

	function startTimer(durationInSeconds) {
		let timeRemaining = durationInSeconds;

		function updateTimer() {
			document.getElementById("timer").textContent =
				formatTime(timeRemaining);
			timeRemaining--;

			if (timeRemaining < 0) {
				clearInterval(timerInterval);
				alert("Timer completed!");
			}
		}

		// Initial display
		updateTimer();

		// Update the timer every second
		const timerInterval = setInterval(updateTimer, 1000);
	}

	// Start the timer with a duration of 5 minutes (300 seconds)
	startTimer(300);
</script>
{% endblock students %}
